<div align="center">
<img src="https://user-images.githubusercontent.com/37360089/103388203-07c65180-4b4b-11eb-879f-0223d0839246.png" width="40%"/><img src="https://user-images.githubusercontent.com/37360089/103388204-09901500-4b4b-11eb-9c16-9d8bf848f2dd.png" width="40%"/>
</div>

<h1 align="center">ì˜¤ëŠ˜ì˜ ë§Œë‚˜ Android</h1>

![last commit badge](https://img.shields.io/github/last-commit/Jinyeob/Today-Manna-Android)
<a href='https://developer.android.com'><img height="20px" src='http://img.shields.io/badge/platform-android-green.svg'/></a>

<p>
   Provides today's Bible scope, verses and Mc'cheine scope.<br/>
   You can see also <a href="https://github.com/Jinyeob/Today-Manna-iOS" target="_blank">iOS</a> version.
</p>

## Download
<a href="https://play.google.com/store/apps/details?id=com.manna.parsing2"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/78/Google_Play_Store_badge_EN.svg/512px-Google_Play_Store_badge_EN.svg.png" width="30%"/></a>

## ğŸ’’ Team
- ê¹€ì§„ì—½b : ì´ê´„, í´ë¼ì´ì–¸íŠ¸ ê°œë°œ
- ê¹€í™ì—½b : ì„œë²„ ê°œë°œ
- ê¹€ì„±ê²¸b : í´ë¼ì´ì–¸íŠ¸ ê°œë°œ
- ìµœìœ¤ì„œs : ê¸°íš, ë””ìì¸

## ğŸ“Œ Version Note

3.6.0
* ì„œë²„ê°€ êµ¬ì¶•ë˜ì—ˆìŠµë‹ˆë‹¤. (ê¹€í™ì—½b)
* ì´ì œ ë¡œê·¸ì¸ì„ í•˜ì§€ì•Šì•„ë„ ë©ë‹ˆë‹¤. 
* ë§Œë‚˜ ë¡œë”© ì†ë„ê°€ ë¹„ì•½ì ìœ¼ë¡œ ìƒìŠ¹í•˜ì˜€ìŠµë‹ˆë‹¤ ğŸš€


3.5.0
* ì´ì œ ë§¥ì²´ì¸ ë²”ìœ„ ë¿ë§Œ ì•„ë‹ˆë¼ êµ¬ì ˆë„ í•¨ê»˜ ë‚˜ì˜µë‹ˆë‹¤.
* íƒ­ ì „í™˜ ì‹œ ë¦¬í”„ë ˆì‰¬ë˜ëŠ” í˜„ìƒì„ í•´ê²°í–ˆìŠµë‹ˆë‹¤.

3.4.2
* ì—°ë§ ì—ë””ì…˜ 

3.4.1
* ê°œí–‰ ì¡°ê±´ë¬¸ ì¶”ê°€

3.4
* ì ˆ ë³„ ê°œí–‰ì´ ë˜ì§€ ì•ŠëŠ” ì˜¤ë¥˜ í•´ê²°

3.3.3
* ì¼ìš”ì¼ì— ë¹„ì •ìƒì¢…ë£Œë˜ëŠ” ì˜¤ë¥˜ í•´ê²° (ì¡°ê±´ë¬¸ ì¶”ê°€, ì¸í…íŠ¸ ì•ˆë„˜ì–´ê°€ê²Œ í•¨)

3.3.2
* ê³µìœ ë²„íŠ¼ ì¶”ê°€

3.3.1
* ë¡œê·¸ì¸ì°½ íˆ´ë°” ì‚­ì œ
* ë¡œê·¸ì¸ì°½ í‚¤ë³´ë“œê°€ í…ìŠ¤íŠ¸ ê°€ë¦¬ëŠ” ë¬¸ì œ í•´ê²°
* ë¡œê·¸ì¸ë²„íŠ¼ ë””ìì¸ ë³€ê²½
* ë°°ê²½ìƒ‰ ì•ˆëœ¨ëŠ” ë¬¸ì œ í•´ê²°

3.3.0
* ë””ìì¸ ëŒ€í­ ìˆ˜ì • (ìµœìœ¤ì„œs ë””ìì¸)
* ì•„ì´ì½˜ 
* ë©”ë‰´ë¡œ í™”ë©´ ì „í™˜ -> bottom navigation view ë¡œ ë³€ê²½ (ë§Œë‚˜, ë§¥ì²´ì¸)
* ë¡œê·¸ì¸ í˜ì´ì§€ ìŠ¤í¬ë¡¤ ê°€ëŠ¥
* ìƒˆë¡œê³ ì¹¨ ì‚­ì œ, ì•±ì •ë³´(ì•„ì´ì½˜) -> ë©”ë‰´ë¡œ ì´ë™

3.2.0
* ì†ë„í–¥ìƒì„ ìœ„í•œ ì½”ë“œ ë¦¬íŒ©í† ë§
* í…ìŠ¤íŠ¸ ì™¼ìª½ ì •ë ¬
* 'ì˜¤ëŠ˜ì˜ ë§¥ì²´ì¸' -> ë©”ë‰´ë¡œ ì´ë™ (ì¶”ê°€ ê¸°ëŠ¥ ì¶”ê°€ë¥¼ ìœ„í•´)
* í…ìŠ¤íŠ¸ ë³µì‚¬ ê°€ëŠ¥

3.1.3
* ëª‡ëª‡ êµ¬í˜•í°ì—ì„œ ìƒê¸°ëŠ” ì¹˜ëª…ì  ì˜¤ë¥˜ í•´ê²° (AsyncTask ì‚¬ìš©, ë©€í‹°ìŠ¤ë ˆë“œë¡œ ë³€ê²½)
* ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ ì•±ì´ ë¹„ì •ìƒ ì¢…ë£Œë˜ëŠ” ì˜¤ë¥˜ í•´ê²° (nullException -> ë§ì”€ êµ¬ì ˆ ê°€ì ¸ì˜¬ë•Œ nullì´ ë°˜í™˜ë¼ì„œ ê±°ê¸°ì„œ selectí•˜ë‹ˆê¹Œ ë¬¸ì œê°€ ìˆì—ˆìŒ. null ì¡°ê±´ë¬¸ì„ ì¶”ê°€.)
* í™”ë©´íšŒì „ ì‹œ ìƒˆë¡œê³ ì¹¨ë˜ëŠ” í˜„ìƒ í•´ê²°
* í™”ë©´ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•˜ê²Œ ë³€ê²½ (ScrollView)

3.0.0
* ë§Œë‚˜ ë²”ìœ„ ë¿ë§Œ ì•„ë‹ˆë¼, í•´ë‹¹ êµ¬ì ˆë„ ì œê³µ (í¬ë¡¬ ê°œë°œìë„êµ¬ - network - XHR í•„í„°. process íŒŒì¼ íŒŒì‹±. ì•„ë˜ì„œ ë”°ë¡œ ì„œìˆ .)
* ì˜¤ëŠ˜ì˜ ë§¥ì²´ì¸ ì½ê¸° ë²”ìœ„ ì œê³µ (http://www.bible4u.pe.kr/zbxe/read ì—ì„œ íŒŒì‹±)
* ê¸°ì¡´ í…ìŠ¤íŠ¸ë¡œ ì•Œë ¤ì£¼ë˜ ë‚´ìš©ì„ í”„ë¡œì„¸ìŠ¤ ë‹¤ì´ì–¼ë¡œê·¸ë¡œ ëŒ€ì²´
* ì •ë³´ ì°½ ë‚´ìš© ìˆ˜ì •
* ìƒˆë¡œê³ ì¹¨ í”Œë¡œíŒ…ì•„ì´ì½˜ ì‚­ì œ (ë©”ë‰´ë¡œ í†µí•©)

1.0 ~ 3.0.0
* ë¡œê·¸ì¸
* ë¡œê·¸ì¸ ìë™ì €ì¥
* íŒŒì‹± í›„ ë‚ ì§œ, ë§Œë‚˜ ë²”ìœ„ ì¶œë ¥
* ë¡œê·¸ì¸ ì‹¤íŒ¨ exception ì¶”ê°€ (í† ìŠ¤íŠ¸)
* ë…¸ì•¡ì…˜ë°”, íˆ´ë°”ë¡œ ë°”ê¿ˆ (ìƒ‰ìƒ: í°ìƒ‰)
* ë²„íŠ¼ ê¸°ëŠ¥ -> íˆ´ë°” ë©”ë‰´ë¡œ ì˜®ê¹€
* ë””ìì¸ê°œì„ 
* ìƒˆë¡œê³ ì¹¨ ì‹œ, ë‚ ì§œê°€ ì¤‘ë³µë¼ì„œ ì¶œë ¥ë˜ëŠ” í˜„ìƒ í•´ê²°


<!--
## ğŸ“Œ Code

### ğŸ‘¤ ë¡œê·¸ì¸
1. ë¨¼ì €, FirstAuthActivityì—ì„œ ìë™ì €ì¥ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. <br>
2. ìë™ì €ì¥ì´ ë˜ì–´ìˆë‹¤ë©´, MainActivityë¡œ ë¡œê·¸ì¸ ì •ë³´ì™€ í•¨ê»˜ í™”ë©´ì„ ì „í™˜í•©ë‹ˆë‹¤. <br>
2-1. ìë™ì €ì¥ì´ ë˜ì–´ìˆì§€ ì•Šë‹¤ë©´, LoginActivityë¡œ í™”ë©´ ì „í™˜ í›„, ì•„ì´ë””ì™€ íŒ¨ìŠ¤ì›Œë“œë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.
3. ë¡œê·¸ì¸ ì •ë³´ë¥¼ ê°€ì§€ê³  ì‚¬ì´íŠ¸ì— ì ‘ì†í•©ë‹ˆë‹¤.
```java
Connection.Response res = Jsoup.connect(htmlPageUrl)
                        .data("user_id", ID)
                        .data("saveid", "1")
                        .data("passwd", PASSWD)
                        .data("mode", "")
                        .data("go", "yes")
                        .data("url", "http://community.jbch.org/")
                        .data("LoginButton", "LoginButton")
                        .method(Connection.Method.POST)
                        .execute();
```
4. ì ‘ì† í›„ ë‚ ì§œ ì •ë³´ì™€ ë¬µìƒ ë²”ìœ„ ì´ë¯¸ì§€ë¥¼ íŒŒì‹±í•˜ì—¬ Elements ê°ì²´ì— ì €ì¥í•©ë‹ˆë‹¤.
5. ê°ì²´ì— ìˆëŠ” ë‚´ìš©ì„ TextViewì™€ WebViewì— ì¶œë ¥í•©ë‹ˆë‹¤.


#### ë¡œê·¸ì¸ ìë™ì €ì¥
* SharedPreferences APIë¥¼ ì‚¬ìš©
```java
public class SaveSharedPreference {
    private static final String PREF_USER_NAME = "username";
    private static final String PREF_USER_PASSWD = "userpasswd";

    static SharedPreferences getSharedPreferences(Context ctx) {
        return PreferenceManager.getDefaultSharedPreferences(ctx);
    }

    // ê³„ì • ì •ë³´ ì €ì¥
    public static void setUser(Context ctx, String userName, String userPasswd) {
        SharedPreferences.Editor editor = getSharedPreferences(ctx).edit();
        editor.putString(PREF_USER_NAME, userName);
        editor.putString(PREF_USER_PASSWD, userPasswd);

        editor.commit();
    }

    // ì €ì¥ëœ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    public static String getUserName(Context ctx) {
        return getSharedPreferences(ctx).getString(PREF_USER_NAME, "");
    }
    public static String getUserPasswd(Context ctx) {
        return getSharedPreferences(ctx).getString(PREF_USER_PASSWD, "");
    }
    // ë¡œê·¸ì•„ì›ƒ
    public static void clearUser(Context ctx) {
        SharedPreferences.Editor editor = getSharedPreferences(ctx).edit();
        editor.clear();
        editor.commit();
    }
}
```

#### ë¡œê·¸ì¸ ì‹¤íŒ¨ ì²˜ë¦¬
* íŒŒì‹±í•œ ê²°ê³¼ ê°’(doc)ì´ nullì„ ë°˜í™˜ì‹œ,  í† ìŠ¤íŠ¸ ë° ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ì „í™˜
* ì“°ë ˆë“œ ë‚´ë¶€ì— í† ìŠ¤íŠ¸ ì¶œë ¥ ì‹œ java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare() ëœ¸ -> í•¸ë“¤ëŸ¬ë¡œ í•´ê²°.
```java
if (doc == null) {
                    Handler mHandler = new Handler(Looper.getMainLooper());
                    mHandler.postDelayed(new Runnable() {
                        @Override
                        public void run() {
                            Toast.makeText(MainActivity.this, "ë¡œê·¸ì¸ ì‹¤íŒ¨, ë‹¤ì‹œ ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”.", Toast.LENGTH_LONG).show();
                            Intent intent = new Intent(getApplicationContext(), LoginActivity.class);
                            SaveSharedPreference.clearUser(MainActivity.this);
                            startActivity(intent);
                            finish();
                        }
                    }, 0);
                } 

```
### ğŸ“ ì„¸ë¶€ í˜ì´ì§€ íŒŒì‹±
<p>
network íƒ­ì˜ XHR í•„í„°ë¥¼ ì‚¬ìš©í•´ì„œ ë¬µìƒ êµ¬ì ˆì„ ì˜¬ë¦¬ëŠ” í˜ì´ì§€ë¡œ ë“¤ì–´ê°€ë³´ì•˜ë‹¤. ê·¸ë¦¬ê³  process.php íŒŒì¼ í”„ë¦¬ë·°ë¥¼ ë³´ì•„í•˜ë‹ˆ ì•„ ì´ê±¸ë¡œ íŒŒì‹±í•˜ë©´ ë˜ê² ë‹¤ ì‹¶ì—ˆìŒ. <br>
<img src="https://user-images.githubusercontent.com/37360089/72217613-cfadb380-3573-11ea-9e8b-e52b7b55a27d.png" width="60%"></img>
</p>
<p>
ë‹¤ë¥¸ ê°™ì€ ì´ë¦„ì˜ process.php ì™€ headerê°’ ì°¨ì´ì ì€ modeê°€ ë‹¤ë¥´ë‹¤ëŠ” ê²ƒì„!! load_postë¡œ í—¤ë”ê°’ì„ ì¶”ê°€. post_uidëŠ” íŒŒì‹±í•œ í•´ë‹¹ urlì—ì„œ substringìœ¼ë¡œ ì˜ë¼ì„œ ê°€ì ¸ì™”ìŒ.<br>
<img src="https://user-images.githubusercontent.com/37360089/72217615-d0dee080-3573-11ea-8631-3a34b255dac1.png" width="60%"></img>
</p>

* divì—ì„œ ê°€ì ¸ì˜¨ ë”ëŸ¬ìš´(?) urlì—ì„œ, onclick ì†ì„±ì˜ ê°’ì„ attrë¡œ ì¶”ì¶œ í›„ replaceë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜¨ì „í•œ url ê°’ìœ¼ë¡œ ì €ì¥
```java
 getURL = doc.select("div.conbox.active div.content").first();
 
thumbURL = getURL
          .attr("onclick")
          .replace("getUrl('", "")
          .replace("', '')", "");
```

* post_uid ì¶”ì¶œ (http://x/x/x/x.php?uid=3899409&x&x&x&x&x&x)
```java
String target = "?uid=";
int target_num = thumbURL.indexOf(target);
String result;
result = thumbURL.substring(target_num + 5, thumbURL.indexOf("&") + 1);
```

* ì ‘ì† (ì—¬ê¸°ì„œëŠ” getì´ ì•„ë‹ˆë¼ postë¡œ ê°€ì ¸ì˜¨ë‹¤. post ê°’ì„ ì¶”ê°€í•˜ë‹ˆê¹..)
```java
//ì‹¤ì œ ë§ì”€ êµ¬ì ˆ urlë¡œ ì ‘ì†
Document doc_bible = Jsoup.connect("http://community.jbch.org/meditation/board/process.php")
                    .header("Origin", "http://community.jbch.org")
                    .header("Referer", "http://community.jbch.org/")
                    .data("mode", "load_post")
                    .data("post_uid", result)
                    .cookies(loginCookie)
                    .post();
```
-->

## ğŸ“Œ Screenshots

| ë§Œë‚˜(ë©”ì¸) | ë§¥ì²´ì¸ |
|:--------:|:--------:|
| ![image](https://user-images.githubusercontent.com/37360089/103459507-44649980-4d53-11eb-804d-e55c68e5a568.png) | ![image](https://user-images.githubusercontent.com/37360089/103459509-4b8ba780-4d53-11eb-90b8-203bf4cbb754.png) |

| ê³µìœ  | ì•± ì •ë³´ |
|:--------:|:--------:|
| ![image](https://user-images.githubusercontent.com/37360089/103459532-7e35a000-4d53-11eb-8dd9-33e44253ec13.png) | ![image](https://user-images.githubusercontent.com/37360089/103459540-8f7eac80-4d53-11eb-9d62-02661d88bff0.png) |

<!--
## ğŸ“Œ Reference
* íŒŒì‹±: https://partnerjun.tistory.com/43?category=693285/ , https://partnerjun.tistory.com/42
* ì„¸ë¶€ íŒŒì‹±(XHR): https://partnerjun.tistory.com/51
* ë¡œê·¸ì¸ ìë™ì €ì¥: https://bestcoding.tistory.com/7/
* bottom navigation view ê´€ë ¨: https://developer.android.com/reference/android/support/design/widget/BottomNavigationView, https://dev-imaec.tistory.com/11, 
* bottom navigation view ìƒ‰ìƒ: https://stackoverflow.com/questions/40325422/selected-tabs-color-in-bottom-navigation-view
* frame layout ë¼ìš´ë“œì²˜ë¦¬: https://stackoverflow.com/questions/36208320/framelayout-with-rounded-corners
* ì—ë””íŠ¸í…ìŠ¤íŠ¸ ì•„ì´ì½˜ ì‚¬ì´ì¦ˆ: https://ddolcat.tistory.com/86
* ì»¤ìŠ¤í…€ í°íŠ¸: https://lktprogrammer.tistory.com/191
* í‚¤íŒ¨ë“œ ë‚˜ì˜¬ë•Œ ìë™ ìŠ¤í¬ë¡¤: https://tiann.tistory.com/13
* í´ë¦½ë³´ë“œ ë³µì‚¬: https://yonoo88.tistory.com/1059
-->
